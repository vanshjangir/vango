TODO:
- remove 'for testing' code changes
- spectator support
